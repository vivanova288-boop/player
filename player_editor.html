<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Horizontal Pro Player Editor</title>
    <style>
        :root { --accent: #00ffff; }
        /* –î–µ–ª–∞–µ–º —Ñ–æ–Ω body —Ç–µ–º–Ω—ã–º, –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ–º —Ö–æ–ª—Å—Ç—É –±—ã—Ç—å –≤–∏–¥–∏–º—ã–º */
        body { font-family: sans-serif; background: #0f0f1a; color: white; display: flex; margin: 0; height: 100vh; overflow: hidden; }
        
        /* –î–µ–ª–∞–µ–º –ø–∞–Ω–µ–ª–∏ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏ (rgba), —á—Ç–æ–±—ã —Å–∫–≤–æ–∑—å –Ω–∏—Ö –ø—Ä–æ–ø–ª—ã–≤–∞–ª–∏ –∏–∫–æ–Ω–∫–∏ */
        #settings { width: 380px; background: rgba(22, 22, 37, 0.8); padding: 20px; border-right: 2px solid var(--accent); overflow-y: auto; z-index: 10; }
        #preview-box { flex: 1; display: flex; justify-content: center; align-items: center; background: transparent; z-index: 10; }
        
        .section { background: rgba(34, 34, 59, 0.6); padding: 15px; border-radius: 10px; margin-bottom: 20px; }
        label { display: block; font-size: 11px; margin: 10px 0 5px; color: #aaa; text-transform: uppercase; }
        input, textarea { width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #444; background: #000; color: #fff; box-sizing: border-box; }
        .btn-main { background: var(--accent); color: #000; border: none; padding: 15px; width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px; }
        .code-res { height: 80px; background: #000; color: #0f0; font-family: monospace; font-size: 10px; margin-top: 10px; }
    </style>
</head>
<body>

<canvas id="bg-canvas" style="position: fixed; top: 0; left: 0; z-index: 1; pointer-events: none;"></canvas>

<div id="settings">
    <h3>üõ† –ì–†–ò–ó–û–ù–¢–ê–õ–¨–ù–´–ô –ü–õ–ï–ï–†</h3>
    <div class="section">
        <label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞</label>
        <input type="color" id="bgCol" value="#1a1a2e" oninput="upd()">
        <label>–¶–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞</label>
        <input type="color" id="accCol" value="#00ffff" oninput="upd()">
    </div>
    <div class="section">
        <label>–û–±–ª–æ–∂–∫–∞ (URL)</label>
        <input type="text" id="cover" value="https://media.tenor.com/eMrZP9HBkqEAAAAi/frkst-reccords.gif" oninput="upd()">
        <label>MP3 —Å—Å—ã–ª–∫–∏</label>
        <textarea id="tracks" rows="4" oninput="upd()">https://vivanova288-boop.github.io/player/1.mp3
https://vivanova288-boop.github.io/player/2.mp3</textarea>
    </div>
    <button class="btn-main" onclick="copyC()">üìã –ö–û–ü–ò–†–û–í–ê–¢–¨ –ö–û–î –î–õ–Ø GENIALLY</button>
    <textarea id="finalCode" class="code-res" readonly></textarea>
</div>

<div id="preview-box"><div id="p-view"></div></div>

<script>
function setupBackground(items) {
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();

    class Particle {
        constructor() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.text = items[Math.floor(Math.random() * items.length)];
            this.size = Math.random() * 20 + 15;
            this.speed = Math.random() * 0.5 + 0.2;
            this.opacity = Math.random() * 0.4 + 0.1;
        }
        update() {
            this.y -= this.speed;
            if (this.y < -30) { this.y = canvas.height + 30; this.x = Math.random() * canvas.width; }
        }
        draw() {
            ctx.globalAlpha = this.opacity;
            ctx.fillStyle = "#ffffff";
            ctx.font = `${this.size}px Arial`;
            ctx.fillText(this.text, this.x, this.y);
        }
    }
    for (let i = 0; i < 30; i++) particles.push(new Particle());
    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => { p.update(); p.draw(); });
        requestAnimationFrame(animate);
    }
    animate();
}

// –¢–µ–ø–µ—Ä—å –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
setupBackground(['üéµ', 'üé∂', 'üéß', 'üìª', 'üé∏']);

// –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–µ–µ—Ä–∞
function upd() {
    const bg = document.getElementById('bgCol').value;
    const acc = document.getElementById('accCol').value;
    const cov = document.getElementById('covUrl').value || 'https://via.placeholder.com/120';
    const tracks = document.getElementById('trList').value.split('\n').filter(t => t.trim() !== '');
    const jsonT = JSON.stringify(tracks);

    const fullCode = `<div id="p-root" style="width: 480px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; font-family: sans-serif; position: relative;">
    <div id="p-minus-btn" onclick="window.pViewTgl()" style="width:32px; height:32px; background:${acc}; color:#000; border-radius:50%; display:flex; justify-content:center; align-items:center; cursor:pointer; margin-bottom:10px; font-weight:bold; border:2px solid #000; font-size:20px; z-index:5;">‚àí</div>
    <div id="p-mini-icon" onclick="window.pViewTgl()" style="display:none; width:50px; height:50px; background:${acc}; border-radius:50%; justify-content:center; align-items:center; font-size:25px; border:2px solid #000; cursor:pointer;">üéµ</div>
    
    <div id="p-main-card" style="width:100%; background:${bg}; border:2px solid ${acc}; border-radius:20px; padding:20px; color:${acc}; display:flex; gap:20px; align-items: center; box-sizing: border-box; position: relative;">
        <div style="flex-shrink:0; text-align:center;">
            <div id="p-disk" style="width:120px; height:120px; border-radius:15px; background:url('${cov}') center/cover; border:2px solid ${acc}; transition: transform 0.3s ease;"></div>
            <div style="margin-top:8px; font-size:10px; font-weight:bold; max-width:120px; overflow:hidden; white-space:nowrap;" id="p-track-name">No track</div>
        </div>

        <div style="flex-grow:1; display:flex; flex-direction:column; gap:12px;">
            <div style="display:flex; justify-content:center; align-items:center; gap:15px;">
                <button onclick="window.pPrevT()" style="background:none; border:none; color:${acc}; cursor:pointer; font-size:24px;">‚èÆ</button>
                <button id="pPlayBtn" onclick="window.pTglAudio()" style="background:${acc}; color:${bg}; border:none; width:45px; height:45px; border-radius:50%; cursor:pointer; font-size:20px; display:flex; justify-content:center; align-items:center;">‚ñ∂</button>
                <button onclick="window.pNextT()" style="background:none; border:none; color:${acc}; cursor:pointer; font-size:24px;">‚è≠</button>
            </div>

            <div style="display:flex; align-items:center; gap:8px; background:rgba(0,0,0,0.2); padding:5px 10px; border-radius:10px;">
                <span style="font-size:12px;">üîà</span>
                <input type="range" id="p-vol" min="0" max="1" step="0.05" value="0.5" style="width:100%; cursor:pointer; accent-color:${acc};">
                <span style="font-size:12px;">üîä</span>
            </div>

            <div style="display:flex; justify-content:center; gap:20px; font-size:18px;">
                <span id="p-shuf-btn" onclick="window.pTglShuf()" style="cursor:pointer; opacity:0.5;" title="Shuffle">üîÄ</span>
                <span onclick="window.pTglList()" style="cursor:pointer;" title="Playlist">üìú</span>
            </div>
        </div>

        <div id="p-playlist" style="display:none; position:absolute; top:100%; left:0; width:100%; background:${bg}; border:2px solid ${acc}; border-top:none; border-radius:0 0 20px 20px; padding:10px; box-sizing:border-box; z-index:4; max-height:150px; overflow-y:auto; font-size:12px;"></div>
        
        <audio id="pAudioPlayer"></audio>
    </div>
</div>

<script>
(function() {
    var list = ${jsonT};
    var cur = 0, isShuf = false;
    var a = document.getElementById('pAudioPlayer');
    var btn = document.getElementById('pPlayBtn');
    var volInp = document.getElementById('p-vol');

    // –õ–æ–≥–∏–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
    volInp.oninput = function() { a.volume = this.value; };
    a.volume = 0.5;

    window.pViewTgl = function() {
        var card = document.getElementById('p-main-card'), mini = document.getElementById('p-mini-icon'), minus = document.getElementById('p-minus-btn'), listPanel = document.getElementById('p-playlist');
        var isHiding = card.style.display !== 'none';
        card.style.display = isHiding ? 'none' : 'flex';
        minus.style.display = isHiding ? 'none' : 'flex';
        mini.style.display = isHiding ? 'flex' : 'none';
        if(isHiding) listPanel.style.display = 'none';
    };

    window.pTglList = function() {
        var p = document.getElementById('p-playlist');
        p.style.display = p.style.display === 'none' ? 'block' : 'none';
    };

    window.pTglShuf = function() {
        isShuf = !isShuf;
        document.getElementById('p-shuf-btn').style.opacity = isShuf ? '1' : '0.5';
    };

    window.pSetT = function(i) {
        cur = i; 
        if(!list[cur]) return;
        a.src = list[cur];
        document.getElementById('p-track-name').innerText = list[cur].split('/').pop();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–ª–µ–π–ª–∏—Å—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ
        document.getElementById('p-playlist').innerHTML = list.map((t, x) => 
            "<div style='padding:5px; cursor:pointer; border-bottom:1px solid rgba(255,255,255,0.1); opacity:"+(x==cur?1:0.6)+"' onclick='window.pSetT("+x+");window.pTglAudio();'>" + (x+1) + ". " + t.split('/').pop() + "</div>"
        ).join('');
    };

    window.pTglAudio = function() {
        if(!a.src && list.length > 0) window.pSetT(cur);
        if(a.paused) { 
            a.play().catch(e => console.log("Click to play")); 
            btn.innerText = '‚è∏';
            document.getElementById('p-disk').style.transform = 'scale(1.05) rotate(5deg)';
        } else { 
            a.pause(); 
            btn.innerText = '‚ñ∂'; 
            document.getElementById('p-disk').style.transform = 'scale(1)';
        }
    };

    window.pNextT = function() {
        var next = isShuf ? Math.floor(Math.random() * list.length) : (cur + 1) % list.length;
        window.pSetT(next);
        a.play(); btn.innerText = '‚è∏';
    };

    window.pPrevT = function() {
        var prev = (cur - 1 + list.length) % list.length;
        window.pSetT(prev);
        a.play(); btn.innerText = '‚è∏';
    };

    a.onended = window.pNextT;
    if(list.length > 0) window.pSetT(0);
})();
<\/script>`;
    document.getElementById('finalCode').value = fullCode;
    document.getElementById('d-view').innerHTML = fullCode;
}
function copyC() { document.getElementById("finalCode").select(); document.execCommand("copy"); }
upd();
</script>
</body>
</html>
